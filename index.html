<!DOCTYPE html> 
<html lang="en">
<head>
  <!-- Meta Pixel Code -->
<script>
!function(f,b,e,v,n,t,s)
{if(f.fbq)return;n=f.fbq=function(){n.callMethod?
n.callMethod.apply(n,arguments):n.queue.push(arguments)};
if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
n.queue=[];t=b.createElement(e);t.async=!0;
t.src=v;s=b.getElementsByTagName(e)[0];
s.parentNode.insertBefore(t,s)}(window, document,'script',
'https://connect.facebook.net/en_US/fbevents.js');
fbq('init', '24704985755777244');
fbq('track', 'PageView');
</script>
<noscript><img height="1" width="1" style="display:none"
src="https://www.facebook.com/tr?id=24704985755777244&ev=PageView&noscript=1"
/></noscript>
<!-- End Meta Pixel Code -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BillyBot™ — Notes to Quotes in Seconds</title>
  <meta name="description" content="BillyBot™ turns job notes into perfect quotes inside Sage, QuickBooks or Xero — hands-free, accurate, and fast." />
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Speed up network hops used during checkout -->
  <link rel="preconnect" href="https://checkout.stripe.com">
  <link rel="preconnect" href="https://js.stripe.com">
  <link rel="preconnect" href="https://tradiebrain.app.n8n.cloud">

  <style>
    :root {
      --brand1:#2563EB; --brand2:#3B82F6;
      --accent1:#F97316; --accent2:#FB923C;
      --bg:#0B0F1A; --bg2:#0F1526; --card:#0F172A;
      --text:#E6ECF9; --muted:#98A3B8;
      --line:rgba(255,255,255,.08);
      --radius:18px; --shadow:0 20px 60px rgba(0,0,0,.35);
      --max:1120px;
    }
    *{box-sizing:border-box}
    /* Smooth page-wide gradient */
    html, body {
      margin:0;
      color:var(--text);
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background: linear-gradient(180deg, #0B0F1A 0%, #0F1526 40%, #0C1221 80%, #0B0F1A 100%);
      background-attachment: fixed;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}
    .container{max-width:var(--max);margin:0 auto;padding:0 24px}
    /* Header */
    header {
      position:sticky;top:0;z-index:100;
      background:linear-gradient(180deg,rgba(13,17,28,.9),rgba(13,17,28,.6) 70%,rgba(13,17,28,0));
      backdrop-filter:saturate(140%) blur(10px);
      border-bottom:1px solid var(--line);
    }
    .nav{height:76px;display:flex;align-items:center;justify-content:space-between;gap:28px;}
    .logo{display:flex;align-items:center;gap:12px;font:800 20px Sora,Inter;}
    .logo svg{width:38px;height:38px;display:inline-block}
    .links{display:flex;gap:28px;align-items:center}
    .links a{color:var(--muted);font-weight:600}
    .links a:hover{color:var(--text)}
    .btn{display:inline-block;background:linear-gradient(135deg,var(--accent1),var(--accent2));
      color:#0B0F1A;border:0;font-weight:800;padding:14px 26px;border-radius:999px;
      box-shadow:var(--shadow);transition:transform .18s ease;}
    .btn:hover{transform:translateY(-2px)}
    /* Orange glow variant */
    .btn.glow {
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      color: #fff;
      box-shadow: 0 0 20px rgba(249, 115, 22, 0.4), 0 0 40px rgba(251, 146, 60, 0.2);
      animation: pulseGlow 2.5s ease-in-out infinite;
    }

    @keyframes pulseGlow {
      0%, 100% {
        box-shadow: 0 0 16px rgba(249, 115, 22, 0.45), 0 0 36px rgba(251, 146, 60, 0.2);
      }
      50% {
        box-shadow: 0 0 28px rgba(249, 115, 22, 0.6), 0 0 60px rgba(251, 146, 60, 0.3);
      }
    }
    .ghost{background:transparent;color:var(--text);border:1px solid var(--line)}
    /* Hero */
    .hero{position:relative;overflow:hidden;text-align:center;padding:120px 0 96px;}
    .hero:before{
      content:"";position:absolute;inset:0;
      background:radial-gradient(80% 120% at 50% 0%, rgba(46,104,255,0.25) 0%, transparent 70%);
      z-index:0;
    }
    .hero .container{position:relative;z-index:1;}
    .title{font:800 58px Sora,Inter;line-height:1.02;letter-spacing:-.4px;margin:0 0 14px}
    .subtitle{font-size:20px;color:var(--muted);max-width:780px;margin:0 auto 26px}
    .cta-row{display:flex;gap:14px;justify-content:center;flex-wrap:wrap;margin-top:18px}
    .chips{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:24px}
    .chip{color:#CFE0FF;background:rgba(46,104,255,.09);border:1px solid rgba(120,155,255,.18);
      padding:8px 14px;border-radius:999px;font-weight:600;font-size:13px;}
    .trust{display:flex;gap:16px;align-items:center;justify-content:center;margin-top:18px;color:#C7D2FE;}
    .trust .label{font:700 11px Inter;letter-spacing:.16em;text-transform:uppercase;opacity:.7}
    .trust .logos{display:flex;gap:20px;font:800 14px Sora,Inter}
    /* Sections */
    .section{padding:96px 0;background:transparent}
    .section h2{font:800 36px Sora,Inter;text-align:center;margin:0 0 12px}
    .sub{color:var(--muted);text-align:center;max-width:720px;margin:0 auto 46px}
    /* Cards */
    .grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:26px}
    .card{background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid var(--line);
      border-radius:18px;padding:26px;box-shadow:var(--shadow);text-align:center;}
    .card h3{font:700 18px Sora,Inter;margin:0 0 6px}
    .card p{color:#A9B4CB}
    /* Steps */
    .how{display:grid;grid-template-columns:repeat(3,1fr);gap:26px}
    .step{background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid var(--line);
      border-radius:18px;padding:26px;box-shadow:var(--shadow);text-align:center}
    .n{width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,var(--brand1),var(--brand2));
      color:white;display:flex;align-items:center;justify-content:center;font-weight:800;margin:0 auto 12px}
    /* Pricing */
    .pricing{display:grid;grid-template-columns:repeat(3,1fr);gap:26px;align-items:stretch}
    .price{background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid var(--line);
      border-radius:18px;padding:30px;text-align:center;position:relative;box-shadow:var(--shadow);
      display:flex;flex-direction:column;justify-content:space-between}
    .price.pop {
      outline: 2px solid #2954FF;
      box-shadow: 0 0 20px rgba(41, 84, 255, 0.4), 0 0 40px rgba(59, 130, 246, 0.2);
      animation: pulseBlue 2.5s ease-in-out infinite;
    }

    @keyframes pulseBlue {
      0%, 100% {
        box-shadow: 0 0 18px rgba(41, 84, 255, 0.45), 0 0 36px rgba(59, 130, 246, 0.2);
      }
      50% {
        box-shadow: 0 0 28px rgba(41, 84, 255, 0.6), 0 0 60px rgba(59, 130, 246, 0.3);
      }
    }
    .money{font:800 42px Sora,Inter;margin:8px 0 6px}
    .price p:last-of-type{margin-top:auto}
    .price-btn{width:100%;text-align:center;min-height:44px;line-height:1.4;padding:14px 0;box-sizing:border-box}
    .toggle{display:flex;gap:8px;align-items:center;justify-content:center;margin:0 auto 22px;color:var(--muted);font-weight:600}
    .switch {
      width: 54px;
      height: 30px;
      border-radius: 999px;
      background: linear-gradient(135deg, #1A2341, #233157);
      border: 1px solid var(--line);
      position: relative;
      cursor: pointer;
      transition: all 0.25s ease;
      box-shadow: inset 0 0 6px rgba(0,0,0,0.4);
    }
    .switch.active {
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      box-shadow: 0 0 12px rgba(249,115,22,0.6), 0 0 24px rgba(251,146,60,0.3);
    }
    .knob {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: white;
      position: absolute;
      top: 2.5px;
      left: 3px;
      transition: all .25s ease;
    }
    .switch.active .knob {
      left: 27px;
      background: #fff8f3;
    }
    /* Modal form */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(6,10,20,.6);z-index:200}
    .modal.open{display:flex}
    .lead{background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid var(--line);border-radius:20px;
      padding:44px;color:#E8EEFF;box-shadow:var(--shadow);max-width:820px;width:92%}
    .form{display:grid;grid-template-columns:1fr 1fr 1fr auto;gap:16px;margin-top:12px}
    .form input{background:#0B1225;color:#E6ECF9;border:1px solid #1A2341;border-radius:12px;padding:14px 12px;font-size:15px}
    .hidden{position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden}
    .x{position:absolute;top:14px;right:18px;background:transparent;border:1px solid var(--line);color:#D3DEFF;border-radius:999px;padding:8px 12px;cursor:pointer}
    /* Contact */
    #contact {background:transparent}
    footer{padding:42px 0;border-top:1px solid var(--line);color:#97A3BD;text-align:center}
    /* Responsive */
    @media (max-width:1024px){.grid3,.how,.pricing{grid-template-columns:1fr 1fr}}
    @media (max-width:768px){
      .links{display:none}.nav{height:72px}
      .title{font-size:36px}.subtitle{font-size:16px}
      .section{padding:76px 0}
      .grid3,.how,.pricing{grid-template-columns:1fr}
      .form{grid-template-columns:1fr;gap:12px}
      .btn{width:100%}
    }
    @media (max-width:768px){
  .links{display:none}
  .nav .btn.glow {
    display:inline-block !important;
    margin-left:auto;
  }
}
    /* Sign Up button styling and fade-in effect */
#signup-btn {
  padding:10px 18px;
  font-size:14px;
  opacity:0;
  visibility:hidden;
  transform:translateY(-6px);
  transition:opacity 0.4s ease, transform 0.4s ease, visibility 0.4s;
}

#signup-btn.visible {
  opacity:1;
  visibility:visible;
  transform:translateY(0);
}

@media (max-width:768px){
  #signup-btn {
    font-size:13px;
    padding:9px 16px;
  }
}
  </style>
</head>
<body>
  <!-- Header -->
  <header>
    <div class="container nav">
      <div class="logo">
        <svg viewBox="0 0 96 96" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs><linearGradient id="tbBlue" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#2563EB"/><stop offset="1" stop-color="#3B82F6"/></linearGradient></defs>
          <circle cx="48" cy="66" r="16" fill="none" stroke="url(#tbBlue)" stroke-width="10"/>
          <g fill="url(#tbBlue)"><rect x="45" y="34" width="6" height="14" rx="3"/><rect x="45" y="34" width="6" height="14" rx="3" transform="rotate(45 48 66)"/><rect x="45" y="34" width="6" height="14" rx="3" transform="rotate(90 48 66)"/><rect x="45" y="34" width="6" height="14" rx="3" transform="rotate(135 48 66)"/><rect x="45" y="34" width="6" height="14" rx="3" transform="rotate(180 48 66)"/><rect x="45" y="34" width="6" height="14" rx="3" transform="rotate(225 48 66)"/><rect x="45" y="34" width="6" height="14" rx="3" transform="rotate(270 48 66)"/><rect x="45" y="34" width="6" height="14" rx="3" transform="rotate(315 48 66)"/></g>
          <circle cx="48" cy="66" r="8" fill="#0B0F1A"/>
          <path d="M20 52c0-15 12-26 28-26s26 10 28 24v8H20v-6z" fill="url(#tbBlue)" stroke="#1E3A8A" stroke-width="2"/>
          <path d="M44 28h12a3 3 0 0 1 3 3v4H44z" fill="#1E3A8A"/>
          <rect x="62" y="54" width="22" height="6" rx="3" fill="#1E3A8A"/>
        </svg>
        <span>BillyBot™</span>
      </div>
<nav class="links" aria-label="Primary">
  <a href="#features">Features</a>
  <a href="#how">How it works</a>
  <a href="#pricing">Pricing</a>
</nav>
<a id="signup-btn" class="btn glow" href="#pricing" style="margin-left:auto;">Sign Up</a>
      <button class="btn ghost" style="display:none">Menu</button>
    </div>
  </header>

<!-- Hero -->
<section class="hero">
  <div class="container">
    <h1 class="title">Text BillyBot Your Next Job.</h1>
    <p class="subtitle">He’ll reply with a quote preview in seconds.</p>

    <div class="cta-row">
      <a class="btn glow" href="javascript:void(0)" onclick="redirectOrOpen()">👉 Try It Free</a>
    </div>

    <!-- New explainer section -->
    <div class="explain">
      <h3>What happens when you click “Try It Free”</h3>
      <ol>
        <li>Your phone will open a text to <strong>BillyBot™</strong></li>
        <li>Just type or paste your job notes. Always include a name, email, address and job details. Example:<br>
          <span class="example">Sarah Jones, sarah.jones@example.com, 12 Maple Road, Bournemouth BH2 5TR – 4.8×3.6 Camaro LVT in kitchen. Uplift old. Needs ply-boarding. 2 brass singles.</span>
        </li>
        <li>BillyBot replies with your <strong>quote preview</strong> in seconds — no forms, no login.</li>
      </ol>
    </div>

    <div class="chips">
      <span class="chip">No signup</span>
      <span class="chip">No app download</span>
      <span class="chip">Instant quote preview</span>
    </div>

    <div class="trust" aria-label="Works with">
      <span class="label">Works with</span>
      <div class="logos"><span>Sage</span><span>QuickBooks</span><span>Xero</span></div>
    </div>
  </div>
</section>

<script>
function redirectOrOpen() {
  const ua = navigator.userAgent || '';
  const isMobile = /Android|iPhone|iPad|iPod/i.test(ua);
const smsLink = 'sms:+447427949007';

  if (isMobile) {
    window.location.href = smsLink;
  } else {
    window.location.href = '/try.html';
  }
}
</script>

<style>
.explain {
  max-width: 700px;
  margin: 28px auto 0;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: 14px;
  padding: 20px 26px;
  text-align: left;
  color: #CFE0FF;
  font-size: 15px;
  line-height: 1.6;
}
.explain h3 {
  font: 700 17px Inter, sans-serif;
  margin: 0 0 10px;
  color: #fff;
}
.explain ol {
  margin: 0;
  padding-left: 20px;
}
.explain li {
  margin-bottom: 10px;
}
.explain .example {
  display: inline-block;
  background: rgba(46, 104, 255, 0.1);
  border: 1px solid rgba(120, 155, 255, 0.2);
  border-radius: 8px;
  padding: 6px 10px;
  margin-top: 6px;
  font-size: 14px;
  color: #A9B4CB;
}
@media (max-width: 768px) {
  .explain {
    font-size: 14px;
    padding: 18px;
  }
}
</style>

<section id="difference" class="section">
  <div class="container" style="text-align:center;">
    <h2 style="font-family:Sora,Inter;font-weight:800;margin-bottom:8px;">What makes BillyBot™ different</h2>
    <p class="sub" style="margin-bottom:18px;">This isn’t another chatbot — it’s your quoting brain, automated.</p>
    <p style="color:#AFC3FF;font-size:17px;margin-bottom:42px;">Here’s how Billy does the work for you — automatically.</p>

    <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:22px;max-width:880px;margin:0 auto;text-align:left;">

      <div style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:22px;box-shadow:0 10px 30px rgba(0,0,0,.25);">
        <h3 style="color:#CFE0FF;margin-top:0;">🧠 Smart Labour Detection</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Automatically adds the right <strong>labour type</strong> for carpet, LVT, vinyl, Whiterock, and carpet tiles — no need to specify every line item within your job details.
        </p>
      </div>

            <div style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:22px;box-shadow:0 10px 30px rgba(0,0,0,.25);">
        <h3 style="color:#CFE0FF;margin-top:0;">🗣 Understands Trade Language</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Billy understands the way you actually talk — it can read <strong>messy job notes</strong> and interpret real trade terms like <strong>singles</strong>, <strong>doubles</strong> for door bars, <strong>running cove</strong>, or <strong>coved skirts</strong>. It knows your language — not just perfect grammar.
        </p>
      </div>

      <div style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:22px;box-shadow:0 10px 30px rgba(0,0,0,.25);">
        <h3 style="color:#CFE0FF;margin-top:0;">🧩 Material Logic</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Detects when <strong>adhesive, plyboard, uplift, or latex</strong> are needed — and adds them automatically to your quote.
        </p>
      </div>

      <div style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:22px;box-shadow:0 10px 30px rgba(0,0,0,.25);">
        <h3 style="color:#CFE0FF;margin-top:0;">📏 Instant Calculations</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Works out <strong>total m² areas</strong> instantly from your room sizes — no more adding endless measurements by hand.
        </p>
      </div>

      <div style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:22px;box-shadow:0 10px 30px rgba(0,0,0,.25);">
        <h3 style="color:#CFE0FF;margin-top:0;">💰 Real-World Pricing</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Uses your own <strong>supplier price lists</strong> and <strong>markup logic</strong> so every quote reflects your true margins — <strong style="color:#FFB84D;">not generic averages.</strong>
        </p>
      </div>

      <div style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:22px;box-shadow:0 10px 30px rgba(0,0,0,.25);">
        <h3 style="color:#CFE0FF;margin-top:0;">⚡ Ready-to-Send Quotes</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Builds complete <strong>Sage, Xero, or QuickBooks</strong> quotes directly inside your connected account — ready to send to clients in seconds.
        </p>
      </div>

    </div>
  </div>
</section>

<!-- Features -->
<section id="features" class="section" style="padding:80px 0;text-align:center;">
  <div class="container" style="max-width:1200px;margin:0 auto;">
    <h2 style="font-family:Sora,Inter;font-weight:800;margin-bottom:10px;">Why trades love BillyBot™</h2>
    <p class="sub" style="margin-bottom:40px;color:#AFC3FF;">
      Built for floor layers — and soon every trade that’s had enough of late-night quoting.
    </p>

    <div class="grid4" style="
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(260px, 1fr));
      gap:24px;
      justify-items:stretch;
      align-items:stretch;
    ">

      <div class="card" style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:28px;box-shadow:0 8px 28px rgba(0,0,0,.25);">
        <h3 style="color:#CFE0FF;font-weight:700;margin-bottom:10px;">⏱ Save Hours Every Week</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          No more admin at night. <strong>Billy builds and sends your quotes</strong> while you finish up on site or head home.
        </p>
      </div>

      <div class="card" style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:28px;box-shadow:0 8px 28px rgba(0,0,0,.25);">
        <h3 style="color:#CFE0FF;font-weight:700;margin-bottom:10px;">💰 Never Lose Money Again</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Every quote uses <strong>your supplier prices and markup logic</strong> — no missed extras, no undercharging, no guesswork.
        </p>
      </div>

      <div class="card" style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:28px;box-shadow:0 8px 28px rgba(0,0,0,.25);">
        <h3 style="color:#CFE0FF;font-weight:700;margin-bottom:10px;">📱 Works The Way You Do</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Send <strong>voice notes, photos, or messy text</strong> — Billy understands it all and turns it into a perfect quote.
        </p>
      </div>

      <div class="card" style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:28px;box-shadow:0 8px 28px rgba(0,0,0,.25);">
        <h3 style="color:#CFE0FF;font-weight:700;margin-bottom:10px;">🧾 Zero Admin. Zero Apps.</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          BillyBot doesn’t bury you in dashboards or repetitive form filling — it <strong>removes admin completely.</strong><br>
          Just send your job notes by text, and Billy handles the rest.
        </p>
      </div>

    </div>
  </div>
</section>

<!-- How it works -->
<section id="how" class="section" style="padding:80px 0;text-align:center;">
  <div class="container" style="max-width:900px;margin:0 auto;">
    <h2 style="font-family:Sora,Inter;font-weight:800;margin-bottom:10px;">How it works</h2>
    <p class="sub" style="margin-bottom:40px;color:#AFC3FF;">Three ridiculously simple steps to faster quoting — no tech skills required.</p>

    <div class="how" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:24px;text-align:left;">
      
      <div class="step" style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:28px;box-shadow:0 8px 28px rgba(0,0,0,.25);">
        <div class="n" style="width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,#2563EB,#3B82F6);color:white;display:flex;align-items:center;justify-content:center;font-weight:800;margin-bottom:14px;">1</div>
        <h3 style="color:#CFE0FF;margin-top:0;">Connect your system</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Link your <strong>Sage, QuickBooks, or Xero</strong> account — literally just accept the link request. No setup, no hassle.
        </p>
      </div>

      <div class="step" style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:28px;box-shadow:0 8px 28px rgba(0,0,0,.25);">
        <div class="n" style="width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,#2563EB,#3B82F6);color:white;display:flex;align-items:center;justify-content:center;font-weight:800;margin-bottom:14px;">2</div>
        <h3 style="color:#CFE0FF;margin-top:0;">Answer a few simple texts</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Billy will text you questions to learn your <strong>pricing logic</strong> — how you charge, your rates, markups, and materials. Then, email us your supplier price lists so everything’s perfectly matched to your business.
        </p>
      </div>

      <div class="step" style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,.08);border-radius:16px;padding:28px;box-shadow:0 8px 28px rgba(0,0,0,.25);">
        <div class="n" style="width:40px;height:40px;border-radius:12px;background:linear-gradient(135deg,#2563EB,#3B82F6);color:white;display:flex;align-items:center;justify-content:center;font-weight:800;margin-bottom:14px;">3</div>
        <h3 style="color:#CFE0FF;margin-top:0;">Send jobs by text — done</h3>
        <p style="color:#AFC3FF;font-size:16px;line-height:1.6;margin:0;">
          Just text your job notes straight from your phone — Billy reads them, builds the quote, and drops it into <strong>Sage, Xero, or QuickBooks</strong> ready to send.
        </p>
      </div>

    </div>
  </div>
</section>

  <!-- Reviews -->
<section id="reviews" class="section" style="padding:80px 0;text-align:center;">
  <div class="container" style="max-width:1000px;margin:0 auto;">
    <h2 style="font-family:Sora,Inter;font-weight:800;margin-bottom:12px;">Real feedback from the trade</h2>
    <p class="sub" style="margin-bottom:40px;color:#AFC3FF;">Real results from real installers using BillyBot™.</p>

    <div style="
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
      gap:24px;
      justify-items:stretch;
    ">

      <div style="background:linear-gradient(180deg,#0F1526,#0C1221);
                  border:1px solid rgba(255,255,255,.08);
                  border-radius:16px;
                  padding:26px;
                  box-shadow:0 8px 28px rgba(0,0,0,.25);
                  text-align:left;">
        <p style="font-size:24px;margin:0;color:#FFD966;">★★★★★</p>
        <p style="color:#CFE0FF;font-size:16px;line-height:1.6;margin-top:12px;">
          “Did my first quote with BillyBot and it nailed it. It works out everything needed for the job perfectly. Game changer.”
        </p>
        <p style="color:#AFC3FF;font-size:14px;margin-top:12px;">— Mike, LVT Installer, Kent</p>
      </div>

      <div style="background:linear-gradient(180deg,#0F1526,#0C1221);
                  border:1px solid rgba(255,255,255,.08);
                  border-radius:16px;
                  padding:26px;
                  box-shadow:0 8px 28px rgba(0,0,0,.25);
                  text-align:left;">
        <p style="font-size:24px;margin:0;color:#FFD966;">★★★★★</p>
        <p style="color:#CFE0FF;font-size:16px;line-height:1.6;margin-top:12px;">
          “Saves me hours every week. It’s like having a secretary that actually understands flooring and a real one of them costs you like £3k a month!”
        </p>
        <p style="color:#AFC3FF;font-size:14px;margin-top:12px;">— Rob, Domestic Floor Fitter</p>
      </div>

      <div style="background:linear-gradient(180deg,#0F1526,#0C1221);
                  border:1px solid rgba(255,255,255,.08);
                  border-radius:16px;
                  padding:26px;
                  box-shadow:0 8px 28px rgba(0,0,0,.25);
                  text-align:left;">
        <p style="font-size:24px;margin:0;color:#FFD966;">★★★★★</p>
        <p style="color:#CFE0FF;font-size:16px;line-height:1.6;margin-top:12px;">
          “Bit sceptical at first, but it literally does exactly what you hope it would. Worth every penny. Very impressed by this, the world is changing!”
        </p>
        <p style="color:#AFC3FF;font-size:14px;margin-top:12px;">— Liam, Commercial Flooring, Manchester</p>
      </div>

    </div>
  </div>
</section>

<!-- Pricing -->
<section id="pricing" class="section">
  <div class="container">

    <h2>Simple pricing</h2>
    <p class="sub">Cancel anytime | No hidden fees | Priced to pay for itself</p>

    <!-- Toggle -->
    <div class="toggle" style="margin-bottom:40px;">
      <span>Monthly</span>
      <div class="switch" id="planSwitch" role="switch" aria-checked="false">
        <div class="knob"></div>
      </div>
      <span>
        Annual
        <span style="color:#7EE787;background:#143019;border:1px solid #224C2B;padding:2px 8px;border-radius:999px;margin-left:6px;box-shadow:0 0 14px rgba(126,231,135,0.4);animation:pulseSave 2.5s ease-in-out infinite;">
          Save 2 months
        </span>
      </span>
    </div>

    <!-- Pricing Cards -->
    <div class="pricing" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:26px;text-align:center;align-items:stretch;">

      <!-- Starter -->
      <div class="price" style="display:flex;flex-direction:column;justify-content:space-between;padding:30px;">
        <div>
          <h3>Starter</h3>
          <div class="money" data-month="£29/mo" data-annual="£290/yr">£29/mo</div>
          <ul style="list-style:none;padding:0;margin:20px 0;color:#AFC3FF;font-size:15px;line-height:1.8;">
            <li>✅ Up to 20 quotes / month</li>
            <li>✅ Up to 20 price requests / month</li>
          </ul>
        </div>
        <div>
          <p style="margin-top:8px;color:#AFC3FF;">Includes <strong>7-day free trial</strong></p>
          <button class="btn price-btn open-form" data-tier="starter">Start 7 day trial</button>
        </div>
      </div>

      <!-- Pro -->
      <div class="price pop" style="display:flex;flex-direction:column;justify-content:space-between;padding:30px;">
        <div>
          <h3>Pro</h3>
          <div class="money" data-month="£79/mo" data-annual="£790/yr">£79/mo</div>
          <ul style="list-style:none;padding:0;margin:20px 0;color:#AFC3FF;font-size:15px;line-height:1.8;">
            <li>✅ Multi-user access</li>
            <li>✅ 20–50 quotes / month</li>
            <li>✅ 20–50 price requests / month</li>
          </ul>
        </div>
        <div>
          <p style="margin-top:8px;color:#AFC3FF;">Includes <strong>7-day free trial</strong></p>
          <button class="btn price-btn open-form" data-tier="pro">Start 7 day trial</button>
        </div>
      </div>

      <!-- Unlimited -->
      <div class="price" style="display:flex;flex-direction:column;justify-content:space-between;padding:30px;">
        <div>
          <h3>Unlimited</h3>
          <div class="money" data-month="£149/mo" data-annual="£1490/yr">£149/mo</div>
          <ul style="list-style:none;padding:0;margin:20px 0;color:#AFC3FF;font-size:15px;line-height:1.8;">
            <li>✅ Multi-user access</li>
            <li>✅ Unlimited quotes / month</li>
            <li>✅ Early access to new features</li>
            <li>✅ Unlimited price requests / month</li>
          </ul>
        </div>
        <div>
          <p style="margin-top:8px;color:#AFC3FF;">Includes <strong>7-day free trial</strong></p>
          <button class="btn price-btn open-form" data-tier="unlimited">Start 7 day trial</button>
        </div>
      </div>

    </div>
  </div>
</section>

<!-- Modal Lead Form -->
<div id="trialModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="trialTitle">
  <div class="lead">
    <button class="x" id="closeModal" aria-label="Close">×</button>
    <h2 id="trialTitle" style="text-align:center;margin:0 0 8px;font-family:Sora">Start your 7-day free trial</h2>
    <p class="sub" style="margin-bottom:18px;color:#AFC3FF">Cancel anytime.</p>

    <form id="onboardForm" class="form">
      <input type="hidden" name="plan_tier" id="plan_tier" value="">
      <input type="hidden" name="plan_billing" id="plan_billing" value="">
      <input name="business_name" placeholder="Business Name" required>
      <input name="contact_name" placeholder="Contact Name" required>
      <input type="tel" name="phone" placeholder="Mobile" required>
      <input type="email" name="email" placeholder="Email" required>
      <input name="address_line1" placeholder="Address Line 1" required>
      <input name="address_line2" placeholder="Address Line 2">
      <input name="city" placeholder="City" required>
      <input name="postcode" placeholder="Postcode" required>
      <button class="btn" type="submit" aria-label="Start 7-day trial">
        <span class="btn-text">Start 7-day trial</span>
        <span class="spinner" style="display:none;margin-left:10px;width:18px;height:18px;border:3px solid rgba(255,255,255,0.3);border-top:3px solid #fff;border-radius:50%;animation:spin 0.8s linear infinite;"></span>
      </button>
      <input type="text" name="_gotcha" tabindex="-1" autocomplete="off" class="hidden">
    </form>

    <script>
document.getElementById('onboardForm').addEventListener('submit', function(e) {
  const phoneInput = this.querySelector('input[name="phone"]');
  const phone = phoneInput.value.replace(/\s+/g, '');
  const valid = /^(\+447\d{9}|07\d{9})$/.test(phone);
  if (!valid) {
    e.preventDefault();
    alert('Please enter a valid UK mobile number (e.g. 07XXXXXXXXX or +447XXXXXXXXX)');
    phoneInput.focus();
  }
});
</script>

    </form>

<script>
const form = document.getElementById('onboardForm');
form.addEventListener('submit', function(e) {
  const phoneInput = form.querySelector('input[name="phone"]');
  const phone = phoneInput.value.replace(/\s+/g, '');
  const valid = /^(\+447\d{9}|07\d{9})$/.test(phone);

  if (!valid) {
    e.preventDefault();
    e.stopImmediatePropagation();
    alert('Please enter a valid UK mobile number');
    phoneInput.focus();
  }
});
</script>

<div id="thankYou" style="display:none;text-align:center;margin-top:20px;font-size:18px;color:#CFE0FF;">
  Thanks! We look forward to working with you!<br>You will receive a text shortly to get you onboarded.
</div>

    <div id="thankYou" style="display:none;text-align:center;margin-top:20px;font-size:18px;color:#CFE0FF;">
      Thanks! We look forward to working with you!<br>You will receive a text shortly to get you onboarded.
    </div>
  </div>
</div>

<style>
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
</style>

<script>
  // --- open modal and set plan info ---
  document.querySelectorAll('.open-form').forEach(btn => {
    btn.addEventListener('click', () => {
      const tier = btn.getAttribute('data-tier');
      const billing = document.querySelector('.switch')?.classList.contains('active') ? 'annual' : 'monthly';
      document.getElementById('plan_tier').value = tier;
      document.getElementById('plan_billing').value = billing;
      document.getElementById('trialModal').classList.add('open');
    });
  });

  // --- modal close handlers ---
  const modal = document.getElementById('trialModal');
  document.getElementById('closeModal').addEventListener('click', () => modal.classList.remove('open'));
  modal.addEventListener('click', (e) => { if (e.target === modal) modal.classList.remove('open'); });

 <script>
  const onboardForm = document.getElementById('onboardForm');
  onboardForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    const btn = onboardForm.querySelector('button[type="submit"]');
    const spinner = btn.querySelector('.spinner');
    const btnText = btn.querySelector('.btn-text');

    btn.disabled = true;
    spinner.style.display = "inline-block";
    btnText.textContent = "Processing...";

    const data = new FormData(onboardForm);

    try {
      const res = await fetch("https://tradiebrain.app.n8n.cloud/webhook/Onboarding", {
        method: "POST",
        body: data,
        mode: "cors",
        headers: { "Accept": "application/json" }
      });

      // ✅ NEW redirect logic
      const result = await res.json().catch(() => ({}));
      const possibleUrl = result?.url || result?.redirect || res.url;

      if (possibleUrl && possibleUrl.startsWith("http")) {
        window.location.href = possibleUrl; // ✅ Redirect to Stripe page
        return;
      }

      // fallback
      onboardForm.reset();
      document.getElementById('thankYou').style.display = "block";

    } catch (err) {
      alert("Something went wrong, please try again.");
    } finally {
      btn.disabled = false;
      spinner.style.display = "none";
      btnText.textContent = "Start 7-day trial";
    }
  });
</script>

      <!-- Bonus Feature Section -->
<section id="bonus" class="section" style="padding:80px 0;background:transparent;">
  <div class="container" style="max-width:900px;margin:0 auto;text-align:center;">
    <div style="background:linear-gradient(180deg,#0F1526,#0C1221);border:1px solid rgba(255,255,255,0.08);border-radius:22px;padding:48px;box-shadow:0 20px 60px rgba(0,0,0,0.35);color:#E6ECF9;position:relative;overflow:hidden;">
      
      <!-- Glowing Icon -->
      <div style="width:70px;height:70px;border-radius:20px;
        background:linear-gradient(135deg,#F97316,#FB923C);
        display:flex;align-items:center;justify-content:center;
        margin:0 auto 24px;box-shadow:0 0 24px rgba(249,115,22,0.4);animation:pulseGlow 3s ease-in-out infinite;">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="#fff" width="36" height="36">
          <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12 9 4.5m0 0h6m-6 0v15m6-15L21.75 12m-6.75 7.5h-6"/>
        </svg>
      </div>

      <h2 style="font-family:Sora,Inter;font-weight:800;font-size:28px;margin-bottom:12px;color:#F97316;">
        Bonus Feature — Included in Every Plan
      </h2>

      <p style="font-size:18px;line-height:1.6;color:#CFE0FF;max-width:720px;margin:0 auto;">
        Need to know what you pay your suppliers for a product? Just <strong>text Billy</strong> asking for it — and he’ll reply within seconds with your exact cut or roll rates.
      </p>

      <p style="font-size:17px;line-height:1.5;color:#AFC3FF;max-width:700px;margin:18px auto 0;">
        No more logging into supplier portals.<br>
        No more calling reps or searching through endless price books.<br>
        <strong>Just text → price received.</strong>
      </p>
    </div>
  </div>

  <style>
    @keyframes pulseGlow {
      0%, 100% { box-shadow: 0 0 18px rgba(249,115,22,0.5), 0 0 36px rgba(251,146,60,0.25); }
      50% { box-shadow: 0 0 32px rgba(249,115,22,0.7), 0 0 64px rgba(251,146,60,0.4); }
    }
  </style>
</section>

  <section id="mission" class="section" style="background:transparent;">
  <div class="container" style="max-width:860px;text-align:center;">
    <h2 style="font-family:Sora;font-weight:800;margin-bottom:12px;">Built by trades, for trades.</h2>
    <p style="color:#AFC3FF;font-size:18px;line-height:1.7;margin-bottom:28px;">
      We’re not a Silicon Valley startup — our founder, Steve, has lived the grind. 
      Late nights quoting, weekends catching up on admin, and the constant feeling that 
      the paperwork never ends. BillyBot™ was built to fix that — to finally give 
      tradespeople the freedom to focus on the work that actually pays.
    </p>

    <p style="color:#CFE0FF;font-size:17px;line-height:1.7;margin-bottom:28px;">
      Our goal is simple: to build the world’s first <strong>AI Operator for trade businesses</strong> — 
      a system that handles your quoting, admin, and day-to-day operations as if it were your 
      own office assistant. No gimmicks, no tech fluff. Just real automation that 
      understands how trades really run.
    </p>

    <p style="color:#AFC3FF;font-size:17px;line-height:1.7;margin-bottom:32px;">
      The world of work is changing fast — and we want every flooring fitter, sparkie, plumber, 
      and builder to stay <strong>ahead of the curve</strong>. With BillyBot™, you’re not just keeping up with AI — 
      you’re stepping into the future of how trade businesses run.
    </p>

<!-- FAQ Section -->
<section id="faq" class="section" style="background:transparent;">
  <div class="container" style="max-width:820px;text-align:center;">
    <h2 style="font-family:Sora,Inter;font-weight:800;margin-bottom:12px;">Frequently asked questions</h2>
    <p class="sub" style="margin-bottom:40px;color:#AFC3FF;">Everything you need to know before starting your free trial.</p>

    <div class="faq-list" style="text-align:left;">
      <div class="faq-item">
        <button class="faq-question">Do I need to connect my accounting software first?</button>
        <div class="faq-answer">
          <p>Nope. You can start your free trial right away. Once you’re ready, simply approve a link request to connect Sage, Xero, or QuickBooks — it only takes 30 seconds.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question">Is BillyBot just another chatbot?</button>
        <div class="faq-answer">
          <p>Not at all. BillyBot doesn’t chat — it <strong>builds</strong> quotes. It understands your notes, applies your supplier prices, adds labour automatically, and produces real quotes in your accounting system.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question">Can I cancel anytime?</button>
        <div class="faq-answer">
          <p>Yes — there’s no contract. Cancel your trial or subscription whenever you like.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question">Does it work on mobile?</button>
        <div class="faq-answer">
          <p>Absolutely. BillyBot is built for trades on the go — you can send job notes straight from your phone and get quotes built instantly.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question">Is BillyBot just for flooring?</button>
        <div class="faq-answer">
          <p>Right now yes — it’s optimised for floor layers using supplier price lists and trade terms like cove former, nosings, and gripper etc. But support for other trades is coming very soon.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FAQ Styles -->
<style>
  .faq-list {
    display: grid;
    gap: 14px;
  }
  .faq-item {
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 14px;
    background: linear-gradient(180deg, #0F1526, #0C1221);
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
  }
  .faq-question {
    width: 100%;
    text-align: left;
    background: none;
    border: none;
    color: #CFE0FF;
    font-size: 17px;
    font-weight: 600;
    padding: 18px 22px;
    cursor: pointer;
    font-family: Inter, system-ui, sans-serif;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  .faq-question::after {
    content: "+";
    font-weight: 700;
    transition: transform 0.2s ease;
  }
  .faq-item.active .faq-question::after {
    transform: rotate(45deg);
  }
  .faq-answer {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease, padding 0.3s ease;
    padding: 0 22px;
  }
  .faq-item.active .faq-answer {
    max-height: 400px;
    padding: 0 22px 18px;
  }
  .faq-answer p {
    margin: 0;
    color: #AFC3FF;
    font-size: 15px;
    line-height: 1.7;
  }
</style>

<!-- FAQ Script -->
<script>
  document.querySelectorAll('.faq-question').forEach(btn => {
    btn.addEventListener('click', () => {
      const item = btn.parentElement;
      item.classList.toggle('active');
      document.querySelectorAll('.faq-item').forEach(other => {
        if (other !== item) other.classList.remove('active');
      });
    });
  });
</script>
  
  <!-- Contact Section -->
  <section id="contact" class="section">
    <div class="container">
      <h2 style="text-align:center;font-family:Sora;margin-bottom:12px;">Get in Touch</h2>
      <p class="sub" style="margin-bottom:24px;color:#AFC3FF">Have questions? We’d love to hear from you.</p>
      <div style="text-align:center;"><a href="mailto:info@billybot.ai" class="btn">Email Us at info@billybot.ai</a></div>
    </div>
  </section>

  <!-- Subscribe Section -->
  <section id="subscribe" class="section" style="padding:80px 0;background:transparent;border-top:1px solid var(--line)">
    <div class="container" style="text-align:center;max-width:640px;">
      <h2 style="font-family:Sora;font-weight:800;margin-bottom:10px;">Not a floor layer?</h2>
      <p class="sub" style="margin-bottom:26px;color:#AFC3FF;">
        Join our list to be notified once BillyBot™ is ready for your trade — whether you're a sparkie, plumber, carpenter, or painter.
      </p>
      <form id="subscribeForm" style="display:flex;gap:12px;flex-wrap:wrap;justify-content:center;">
        <select name="trade" required
          style="flex:1;min-width:180px;max-width:220px;padding:14px 12px;border-radius:12px;border:1px solid var(--line);background:#0B1225;color:#E6ECF9;font-size:15px;">
          <option value="" disabled selected>Select trade</option>
          <option value="electrician">Electrician</option>
          <option value="plumber">Plumber</option>
          <option value="carpenter">Carpenter</option>
          <option value="painter">Painter & Decorator</option>
          <option value="builder">Builder</option>
          <option value="tiler">Tiler</option>
          <option value="roofer">Roofer</option>
          <option value="other">Other</option>
        </select>
        <input type="email" name="email" placeholder="Enter your email" required
          style="flex:1;min-width:220px;max-width:320px;padding:14px 12px;border-radius:12px;border:1px solid var(--line);background:#0B1225;color:#E6ECF9;font-size:15px;">
        <button type="submit" class="btn glow" style="padding:14px 26px;">Notify Me</button>
      </form>
      <div id="subscribeThanks" style="display:none;margin-top:18px;color:#CFE0FF;font-weight:500;">
        Thanks! We’ll let you know as soon as BillyBot™ is ready for your trade. ⚡
      </div>
    </div>
  </section>

  <footer>© <span id="year"></span> BillyBot™. All rights reserved.</footer>

  <script>
    // Optional: Suggest opening in browser for faster checkout when inside FB/IG in-app browser

    // Set year AFTER footer exists
    document.getElementById('year').textContent = new Date().getFullYear();

    const sw = document.getElementById('planSwitch');
    const monies = document.querySelectorAll('.money');
    function currentBilling(){ return sw && sw.classList.contains('active') ? 'annual' : 'monthly'; }
    if (sw){
      sw.addEventListener('click', () => {
        const active = sw.classList.toggle('active');
        sw.setAttribute('aria-checked', String(active));
        monies.forEach(el => { el.textContent = el.dataset[ active ? 'annual' : 'month' ]; });
        const modalOpen = document.getElementById('trialModal').classList.contains('open');
        if (modalOpen) document.getElementById('plan_billing').value = currentBilling();
      });
    }

    const modal = document.getElementById('trialModal');
    const closeModal = document.getElementById('closeModal');
    const planTierInput = document.getElementById('plan_tier');
    const planBillingInput = document.getElementById('plan_billing');

    document.querySelectorAll('.open-form').forEach(btn => {
      btn.addEventListener('click', () => {
        const tier = btn.getAttribute('data-tier');
        planTierInput.value = tier;
        planBillingInput.value = currentBilling();
        modal.classList.add('open');
      });
    });
    closeModal.addEventListener('click', () => modal.classList.remove('open'));
    modal.addEventListener('click', (e) => { if (e.target === modal) modal.classList.remove('open'); });

    function normalizeRedirect(raw) {
      if (!raw) return '';
      let u = String(raw).trim();
      u = u.replace(/^=\s*/, '');
      const idx = u.indexOf('http');
      if (!/^https?:\/\//i.test(u) && idx > -1) u = u.slice(idx);
      return u;
    }
    function go(url) {
      try {
        const target = new URL(url, window.location.origin).href;
        if (/^https?:\/\//i.test(url)) {
          window.location.replace(target);
          return true;
        }
      } catch(e) {}
      return false;
    }

    // ---------- Submit handler with spinner + reassurance for FB in-app ----------
    const form = document.getElementById('onboardForm');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Instant visual feedback
      const btn = form.querySelector('button[type="submit"]');
      if (btn) {
        btn.dataset.originalText = btn.textContent;

        // inject spinner keyframes once
        if (!document.getElementById('bb-spin-keyframes')) {
          const style = document.createElement('style');
          style.id = 'bb-spin-keyframes';
          style.textContent = '@keyframes bbspin{from{transform:rotate(0)}to{transform:rotate(360deg)}}';
          document.head.appendChild(style);
        }

        btn.disabled = true;
        btn.innerHTML = 'Redirecting&nbsp;to&nbsp;Stripe&nbsp;...&nbsp;<span style="display:inline-block;width:14px;height:14px;border:2px solid #fff;border-top-color:transparent;border-radius:50%;animation:bbspin .8s linear infinite;vertical-align:-2px"></span>';
        btn.style.opacity = '0.7';
        btn.style.cursor = 'wait';
      }

      // If FB in-app is slow, reassure after ~2s
      let reassureTimer = setTimeout(() => {
        if (btn) btn.innerHTML = 'Securing checkout&nbsp;… still working&nbsp;<span style="display:inline-block;width:14px;height:14px;border:2px solid #fff;border-top-color:transparent;border-radius:50%;animation:bbspin .8s linear infinite;vertical-align:-2px"></span>';
      }, 2000);

      const data = new FormData(form);

      const fetchOpts = {
        method: "POST",
        body: data,
        mode: "cors",
        cache: "no-store",
        headers: { "Accept": "application/json" },
        keepalive: false
      };

      try {
        const res = await fetch("https://tradiebrain.app.n8n.cloud/webhook/Onboarding", fetchOpts);

        clearTimeout(reassureTimer);

        // JSON { url: "https://..." } or HTTP redirect
        let result = null;
        const ct = res.headers.get('content-type') || '';
        if (ct.includes('application/json')) {
          result = await res.json().catch(() => null);
        }

        const fromJson = normalizeRedirect(result && result.url);
        if (fromJson && go(fromJson)) return;

        if (res.redirected && res.url) {
          const redirected = normalizeRedirect(res.url);
          if (go(redirected)) return;
        }

        // Fallback – show thank you if no redirect provided
        form.reset();
        document.getElementById('thankYou').style.display = "block";
        if (btn) {
          btn.disabled = false;
          btn.textContent = btn.dataset.originalText || "Start 7-day trial";
          btn.style.opacity = "1";
          btn.style.cursor = "pointer";
        }
      } catch (err) {
        console.error(err);
        clearTimeout(reassureTimer);
        alert("Something went wrong, please try again.");
        if (btn) {
          btn.disabled = false;
          btn.textContent = btn.dataset.originalText || "Start 7-day trial";
          btn.style.opacity = "1";
          btn.style.cursor = "pointer";
        }
      }
    });
    // --------------------------------------------------------------------

    // ✅ Subscribe form handler
    const subscribeForm = document.getElementById('subscribeForm');
    subscribeForm?.addEventListener('submit', async (e) => {
      e.preventDefault();
      const data = new FormData(subscribeForm);
      try {
        await fetch("https://tradiebrain.app.n8n.cloud/webhook/Subscribe", {
          method: "POST",
          body: data,
          mode: "cors"
        });
        subscribeForm.reset();
        document.getElementById('subscribeThanks').style.display = "block";
      } catch {
        alert("Something went wrong, please try again later.");
      }
    });
  </script>
    <script>
window.addEventListener('scroll', function() {
  const btn = document.getElementById('signup-btn');
  if (window.scrollY > 150) {
    btn.classList.add('visible');
  } else {
    btn.classList.remove('visible');
  }
});
</script>
</body>
</html>
